!function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}function o(e){return"object"==typeof e?null!==e:"function"==typeof e}function r(e){if(!o(e))throw TypeError(e+" is not an object!")}function t(e){try{return!!e()}catch(e){return 1}}function c(e,t){return J.call(e,t)}function n(e){return"Symbol(".concat(void 0===e?"":e,")_",(++z+q).toString(36))}function d(r,o,e){if(V(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}function h(e,t,n){var r,o,i,u=e&h.F,c=e&h.G,a=e&h.P,s=e&h.B,l=c?g:e&h.S?g[t]||(g[t]={}):(g[t]||{})[b],f=c?m:m[t]||(m[t]={}),p=f[b]||(f[b]={});for(r in n=c?t:n)o=((i=!u&&l&&void 0!==l[r])?l:n)[r],i=s&&i?d(o,g):a&&"function"==typeof o?d(Function.call,o):o,l&&G(l,r,o,e&h.U),f[r]!=o&&y(f,r,i),a&&p[r]!=o&&(p[r]=o)}function a(e){return S(w(e))}function U(e){if(e.ok)return e;throw Error(e.statusText)}function M(e){return x.pubsub.publish("account/getidentity/complete",e),e}var s,i,g=e(function(e){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),m=e(function(e){e=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)}),p=(m.version,!t(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),u=g.document,B=o(u)&&o(u.createElement),F=!p&&!t(function(){return 7!=Object.defineProperty(B?u.createElement("div"):{},"a",{get:function(){return 7}}).a}),H=Object.defineProperty,R={f:p?Object.defineProperty:function(e,t,n){if(r(e),t=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e))||"function"==typeof(n=e.valueOf)&&!o(r=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(t,!0),r(n),F)try{return H(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},y=p?function(e,t,n){return R.f(e,t,{enumerable:!((e=1)&e),configurable:!(2&e),writable:!(4&e),value:n})}:function(e,t,n){return e[t]=n,e},J={}.hasOwnProperty,z=0,q=Math.random(),l=e(function(e){var t="__core-js_shared__",n=g[t]||(g[t]={});(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:m.version,mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),f=l("native-function-to-string",Function.toString),G=e(function(e){var i=n("src"),t="toString",u=(""+f).split(t);m.inspectSource=function(e){return f.call(e)},(e.exports=function(e,t,n,r){var o="function"==typeof n;o&&!c(n,"name")&&y(n,"name",t),e[t]!==n&&(o&&!c(n,i)&&y(n,i,e[t]?""+e[t]:u.join(String(t))),e===g?e[t]=n:r?e[t]?e[t]=n:y(e,t,n):(delete e[t],y(e,t,n)))})(Function.prototype,t,function(){return"function"==typeof this&&this[i]||f.call(this)})}),V=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},b="prototype",v=(g.core=m,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,h),W={}.toString,S=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==W.call(e).slice(8,-1)?e.split(""):Object(e)},w=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},Z=Math.ceil,Q=Math.floor,I=function(e){return isNaN(e=+e)?0:(0<e?Q:Z)(e)},K=Math.min,X=Math.max,Y=Math.min,l=l("keys"),$=(s=!1,function(e,t,n){var r,o=a(e),i=0<(e=o.length)?K(I(e),9007199254740991):0,u=(e=i,(n=I(n=n))<0?X(n+e,0):Y(n,e));if(s&&t!=t){for(;u<i;)if((r=o[u++])!=r)return!0}else for(;u<i;u++)if((s||u in o)&&o[u]===t)return s||u||0;return!s&&-1}),ee=l[A="IE_PROTO"]||(l[A]=n(A)),te="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),O=Object.keys||function(e){var t,n=te,r=a(e),o=0,i=[];for(t in r)t!=ee&&c(r,t)&&i.push(t);for(;n.length>o;)!c(r,t=n[o++])||~$(i,t)||i.push(t);return i},ne={f:Object.getOwnPropertySymbols},re={f:{}.propertyIsEnumerable},j=Object.assign,l=!j||t(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=j({},e)[n]||Object.keys(j({},t)).join("")!=r})?function(e,t){for(var n=Object(w(e)),r=arguments.length,o=1,i=ne.f,u=re.f;o<r;)for(var c,a=S(arguments[o++]),s=i?O(a).concat(i(a)):O(a),l=s.length,f=0;f<l;)c=s[f++],p&&!u.call(a,c)||(n[c]=a[c]);return n}:j,A=(v(v.S+v.F,"Object",{assign:l}),"data-disable-api-fetch"),T="data-getidentity-search-string",oe="/account/getidentity",ie=["P","PW"],E="_mh_didomi_ouid",C={acceptCookie:!1,accountId:null,accountType:null,age:0,authLevel:null,authType:null,countryCode:null,city:null,cookieBannerVisible:!1,email:null,facebookId:null,firstName:null,gender:null,hashA:null,hashI:null,identityHash:null,isAnonymous:!1,isLoggedIn:!1,isSubscriber:!1,isTestUser:!1,lastName:null,name:null,sessionExpired:!1,showPersonalDetails:!0,subscriptionStatus:null,subscriptionType:null,zip:null},x=window.MEDIAHUIS||{},N=(x.config=x.config||{},x.config.environment=x.config.environment||{},x.config.features=x.config.features||{},x.config.features.disableOnHighLoad=x.config.features.disableOnHighLoad||{},x.user=x.user||{},function(e){return Object.assign({},C,e)}),ue=!x.config.features.disableOnHighLoad.identity&&((v=document.currentScript)?null===v.getAttribute(A):null===document.querySelector("script["+A+"]")),ce=function(e){return fetch(e,{credentials:"include",body:null,headers:{"content-type":"application/x-www-form-urlencoded"},method:"POST",mode:"cors"}).then(U).then(function(e){return e.json()})},k=e(function(e,t){var n;n=function(){function c(){for(var e=0,t={};e<arguments.length;e++){var n,r=arguments[e];for(n in r)t[n]=r[n]}return t}function s(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(a){function u(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=c({path:"/"},u.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var r=JSON.stringify(t);/^[\{\[]/.test(r)&&(t=r)}catch(e){}t=a.write?a.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o,i="";for(o in n)n[o]&&(i+="; "+o,!0!==n[o])&&(i+="="+n[o].split(";")[0]);return document.cookie=e+"="+t+i}}function t(e,t){if("undefined"!=typeof document){for(var n={},r=document.cookie?document.cookie.split("; "):[],o=0;o<r.length;o++){var i=r[o].split("="),u=i.slice(1).join("=");t||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=s(i[0]),u=(a.read||a)(u,c)||s(u);if(t)try{u=JSON.parse(u)}catch(e){}if(n[c]=u,e===c)break}catch(e){}}return e?n[e]:n}}return u.set=n,u.get=function(e){return t(e,!1)},u.getJSON=function(e){return t(e,!0)},u.remove=function(e,t){n(e,"",c(t,{expires:-1}))},u.defaults={},u.withConverter=e,u}(function(){})},e.exports=n()}),ae=function(e){return Object.assign({},e,{acceptCookie:k.getJSON("cookie-agreed-1")||!1,age:(t=e.birthDate,n=new RegExp(/\d+/g),t&&t.match(n)?(t=Number(t.match(n).pop()),parseInt(((new Date).getTime()-t)/315576e5,10)):0),cookieBannerVisible:k.getJSON("cookie-agreed-1")||!1,isSubscriber:!!e.subscriptionType&&-1===ie.indexOf(e.subscriptionType)&&1===Number(e.subscriptionStatus),name:e.lastName&&e.firstName?e.lastName+" "+e.firstName:C.name});var t,n},se=function(e){return Object.assign({},e,{isLoggedIn:Boolean(0<e.authLevel&&e.accountId)})},le=function(e){return Object.assign({},e,{isLoggedIn:Boolean(5<e.authLevel&&e.accountId)})},fe=function(e){return{accountId:e.AccountId,accountType:e.AccountType,authLevel:e.AuthLevel,authType:e.AuthType,birthDate:e.BirthDate,countryCode:e.CountryCode,city:e.City,email:e.Email,facebookId:e.FacebookId,firstName:e.Firstname,gender:e.Gender,hashA:e.HashA,hashI:e.HashI,houseNumber:e.HouseNumber,identityHash:e.IdentityHash,isAnonymous:e.IsAnonymous,isTestUser:e.IsTestUser,lastName:e.Lastname,sessionExpired:e.IsSessionQuotaExceeded,street:e.Street,subscriptionStatus:e.SubscriptionStatus,subscriptionType:e.SubscriptionType,zip:e.ZipCode}},pe=function(e){var t;return e.SocialShare&&(x.socialShare={articleId:(t=e.SocialShare).ArticleId,currentUserIsAllowedToShare:t.CurrentUserIsAllowedToShare,isRedactionalShare:t.IsRedactionalShare,origin:t.Origin,sharerAccountId:t.SharerAccountId,sharerName:t.SharerName}),e.LogonControl&&(x.logonControl=e.LogonControl),e.AuthUserData||e},de=function(){var e=document.querySelector("script["+T+"]");return null===e||null===(e=e.getAttribute(T))?"":e};function P(e,t){"production"!==x.config.environment&&console.log(e,t)}function he(e){return new Promise(function(t,n){try{return window.localStorage.getItem(E)?t():(r=e,new Promise(function(t,n){try{var e=(new TextEncoder).encode(r);return crypto.subtle.digest("SHA-256",e).then(function(e){e=Array.from(new Uint8Array(e)).map(function(e){return e.toString(16).padStart(2,"0")}).join("");return t(e)}).catch(function(e){return n(e)})}catch(e){return n(e)}}).then(function(e){return window.localStorage.setItem(E,e),t()}).catch(function(){return n()}))}catch(e){return P("Error while removing Didomi data",e),n()}var r})}_=function(e){return!e&&i?i:i=(ue?ce(oe+"?t="+Number(new Date)+de()).then(pe).then(fe):Promise.resolve({authLevel:0})).then(N).then(ae).then(x.config.features.temp_useAMConfiguration?se:le)};var _,l=L;function D(e){return _(e).then(L).then(M)}function L(e){return x.user=Object.assign({},e),x.user.getIdentity=D,x.user.get=D,x.user}l(N()).getIdentity(),l(N()).getIdentity().then(function(e){return null!=e&&e.accountId?he(e.accountId):new Promise(function(t){try{window.localStorage.removeItem(E),t()}catch(e){P("Error while removing Didomi data"),t()}})}).catch(function(e){return P("Error setting Didomi data",e)})}();
